import json
import random
import os

# Output file
OUTPUT_FILE = "marathi_philosophy_dataset.jsonl"
TARGET_COUNT = 3000  # Generate 3000 entries

# --- Data Source: Topics & Keywords ---
TOPICS = [
    "Karma (कर्म)", "Dharma (धर्म)", "Peace (शांती)", "Balance (संतुलन)", 
    "Wisdom (विवेक)", "Self-Control (आत्मनियंत्रण)", "Patience (धैर्य)", 
    "Selflessness (निःस्वार्थता)", "Detachment (अलिप्तता)", "Equality (समत्व)"
]

# --- Data Source: Instructions (Inputs) ---
# Mix of English and Marathi questions
INSTRUCTIONS_EN = [
    "What is the purpose of life?",
    "How do I overcome fear?",
    "I feel lost and confused. What should I do?",
    "How to control anger?",
    "Why do I face so many failures?",
    "Explain the importance of discipline.",
    "How to find inner peace?",
    "What is true success?",
    "How to deal with difficult relationships?",
    "Why is my mind so restless?",
    "How to stay motivated?",
    "What is the meaning of Karma?",
    "How to practice detachment?",
    "I am stressed about the future.",
    "How to make the right decision?"
]

INSTRUCTIONS_MR = [
    "जीवनाचा उद्देश काय आहे?",
    "मी भीतीवर मात कशी करू?",
    "मी गोंधळलेला आहे, मी काय करावे?",
    "रागावर नियंत्रण कसे मिळवावे?",
    "मला अपयश का येते?",
    "शिस्तीचे महत्त्व सांगा.",
    "मानसिक शांती कशी मिळवावी?",
    "खरे यश म्हणजे काय?",
    "कठीण नातेसंबंधांना कसे सामोरे जावे?",
    "माझे मन इतके चंचल का आहे?",
    "नेहमी प्रेरित कसे राहावे?",
    "कर्माचा सिद्धांत काय आहे?",
    "अलिप्तता कशी जोपासावी?",
    "मला भविष्याची चिंता वाटते.",
    "योग्य निर्णय कसा घ्यावा?"
]

# --- Data Source: Philosophical Paragraph Blocks (Marathi) ---
# We will combine these to form long answers.
# These are written in a calm, Gita-inspired style.

INTRO_BLOCKS = [
    "आयुष्यात जेव्हा आपण अशा प्रश्नांना सामोरे जातो, तेव्हा सर्वप्रथम शांत होणे आवश्यक आहे. भगवद्गीतेमध्ये भगवान श्रीकृष्णांनी अर्जुनाला सांगितले आहे की, मनाची स्थिरता हीच सर्व समस्यांवरील उपायाची पहिली पायरी आहे. तुमचे मन हेच तुमचे मित्र आहे आणि तेच तुमचे शत्रू होऊ शकते.",
    "हा प्रश्न अत्यंत महत्त्वाचा आहे. मानवी जीवन हे सुख आणि दु:खाच्या लाटांनी भरलेले आहे. समुद्राच्या लाटांप्रमाणेच आपल्या आयुष्यातही चढ-उतार येत असतात. पण ज्याप्रमाणे समुद्र आपल्या खोलीत शांत असतो, तसेच आपणही आपल्या अंतर्मनात शांत राहायला शिकले पाहिजे.",
    "तुमची ही स्थिती समजण्यासारखी आहे. प्रत्येक व्यक्तीला आयुष्यात कधीना कधी अशा प्रसंगातून जावे लागते. अशा वेळी, आपण आपल्या कर्तव्यावर लक्ष केंद्रित करणे सर्वात महत्त्वाचे असते. फळाची अपेक्षा न करता कर्म करणे, हाच खरा मार्ग आहे.",
    "या प्रश्नाचे उत्तर शोधण्यासाठी आपल्याला आपल्या आत डोकावून पाहावे लागेल. बाह्य जगतातील गोंधळ तेव्हाच शांत होतो, जेव्हा आपले आंतरिक जग स्थिर असते. विवेक आणि संयम हे दोन गुण आपल्याला कोणत्याही कठीण प्रसंगातून बाहेर काढू शकतात.",
    "जीवनाचे सार समजून घेण्यासाठी आपल्याला थोडा संयम बाळगावा लागेल. घाईघाईने घेतलेले निर्णय किंवा विचारांशिवाय केलेली कृती अनेकदा पश्चात्तापाला कारणीभूत ठरते. त्यामुळे, दीर्घ श्वास घ्या आणि विचार करा की तुमच्या नियंत्रणात काय आहे आणि काय नाही."
]

CORE_CONCEPTS = [
    "कर्माचा सिद्धांत सांगतो की, आपण फक्त आपल्या कृतीवर अधिकार गाजवू शकतो, त्याच्या परिणामांवर नाही. जेव्हा आपण परिणामांच्या चिंतेने ग्रासले जातो, तेव्हा आपली कार्यक्षमता कमी होते. त्याऐवजी, पूर्ण एकाग्रतेने आणि प्रामाणिकपणे आपले काम करा. हेच 'कर्मयोग' आहे.",
    "आपले मन हे वारंवार भरकटत असते. त्याला नियंत्रणात आणण्यासाठी 'अभ्यास' आणि 'वैराग्य' यांची गरज असते. अभ्यास म्हणजे सातत्याने प्रयत्न करणे आणि वैराग्य म्हणजे अनावश्यक गोष्टींपासून दूर राहणे. हे एका दिवसात साध्य होणारे नाही, पण सातत्य ठेवल्यास नक्कीच शक्य आहे.",
    "ज्याप्रमाणे कमळाचे पान पाण्यावर असूनही पाण्याने भिजत नाही, तसेच आपणही संसारात राहूनही त्याच्या मोहापासून अलिप्त राहायला शिकले पाहिजे. सुख असो वा दु:ख, यश असो वा अपयश, या दोन्ही गोष्टींना समान मानणे म्हणजेच 'स्थितप्रज्ञ' अवस्था होय.",
    "रागावर विजय मिळवणे म्हणजे स्वतःवर विजय मिळवणे. क्रोध हा माणसाचा सर्वात मोठा शत्रू आहे, कारण तो आपली विचारशक्ती नष्ट करतो. जेव्हा राग येईल, तेव्हा शांत राहण्याचा प्रयत्न करा. हे समजून घ्या की समोरची व्यक्ती किंवा परिस्थिती आपल्या नियंत्रणात नाही, पण आपली प्रतिक्रिया आपल्या नियंत्रणात आहे.",
    "आत्मविश्वास हा यशाचा पाया आहे. पण हा आत्मविश्वास अहंकारावर आधारित नसावा, तर आत्मज्ञानावर आधारित असावा. स्वतःच्या क्षमता ओळखा आणि मर्यादांचा स्वीकार करा. स्वतःला इतरांशी तुलना करणे थांबवा, कारण प्रत्येक व्यक्तीचा प्रवास वेगळा असतो.",
    "भीती ही अनेकदा काल्पनिक असते. आपण भविष्यात काय होईल या विचाराने वर्तमानात घाबरत असतो. पण सत्य हे आहे की भविष्य अनिश्चित आहे आणि ते बदलण्याची ताकद फक्त आपल्या वर्तमानकाळातील कर्मात आहे. त्यामुळे वर्तमानात जगा आणि भविष्याची चिंता सोडा.",
    "शिस्त म्हणजे स्वतःला शिक्षा करणे नव्हे, तर स्वतःला एका विशिष्ट ध्येयाकडे नेण्यासाठी लावलेली सवय आहे. नियमितता आणि सातत्य यामुळेच मोठे बदल घडतात. लहान लहान पावले उचलत राहा, तीच तुम्हाला तुमच्या ध्येयापर्यंत पोहोचवतील.",
    "नातेसंबंधांमध्ये अपेक्षा हे दु:खाचे मूळ कारण असते. जेव्हा आपण इतरांकडून अपेक्षा करणे थांबवतो आणि फक्त आपले कर्तव्य पार पाडतो, तेव्हा नातेसंबंध सुधारतात. प्रेम आणि आदर हे मागून मिळत नाहीत, ते कमवावे लागतात आणि द्यावे लागतात.",
    "संतुलन हेच जीवनाचे रहस्य आहे. कामात आणि विश्रांतीत, बोलण्यात आणि ऐकण्यात, विचारात आणि कृतीत संतुलन राखणे आवश्यक आहे. अतिरेक हा नेहमीच टाळावा. मध्यम मार्ग हाच सर्वोत्तम मार्ग आहे.",
    "ज्ञान हेच मुक्तीचे साधन आहे. अज्ञानामुळेच आपण अंधारात चाचपडत असतो. स्वतःला ओळखा, आपल्या खऱ्या स्वरूपाची जाणीव करून घ्या. तुम्ही केवळ हे शरीर नाही, तर एक चैतन्यमय आत्मा आहात, हे सत्य स्वीकारल्यास अनेक भय आणि चिंता नाहीशा होतात."
]

CONCLUSION_BLOCKS = [
    "शेवटी, हे लक्षात ठेवा की कोणताही बदल एका रात्रीत घडत नाही. यासाठी संयम आणि सातत्याची गरज असते. स्वतःवर विश्वास ठेवा आणि योग्य मार्गावर चालत राहा. यश नक्कीच मिळेल.",
    "म्हणूनच, उठा आणि आपल्या कर्तव्याला लागा. भूतकाळाचा पश्चात्ताप नको आणि भविष्याची चिंता नको. फक्त वर्तमानकाळ आपला आहे. त्याचा सदुपयोग करा.",
    "या विचारांचे मनन करा आणि आपल्या दैनंदिन जीवनात आचरणात आणण्याचा प्रयत्न करा. शांती बाहेर कुठेही मिळणार नाही, ती तुमच्या आतच आहे. तिला शोधण्याचा प्रयत्न करा.",
    "जीवनातील प्रत्येक अनुभव आपल्याला काहीतरी शिकवण्यासाठी येतो. कठीण प्रसंग हे आपली परीक्षा पाहण्यासाठी नसून आपल्याला अधिक मजबूत करण्यासाठी असतात. या दृष्टिकोनातून जीवनाकडे पाहा.",
    "तुमचा प्रवास सुंदर होवो. लक्षात ठेवा, तुम्ही एकटे नाही आहात. हे संपूर्ण अस्तित्व तुमच्या पाठीशी आहे. फक्त श्रद्धेने आणि धैर्याने पुढे चालत राहा."
]

GITA_VERSES = [
    {
        "shloka": "कर्मण्येवाधिकारस्ते मा फलेषु कदाचन।",
        "meaning": "तुझा अधिकार केवळ कर्म करण्यावर आहे, त्याच्या फळांवर नाही. फळाची अपेक्षा करून कर्म करू नकोस आणि कर्म न करण्यातही तुझी आसक्ती नसावी."
    },
    {
        "shloka": "क्रोधाद्भवति सम्मोहः सम्मोहात्स्मृतिविभ्रमः।",
        "meaning": "क्रोधातून अत्यंत मोह निर्माण होतो, मोहातून स्मृतीचा नाश होतो, स्मृतीचा नाश झाल्यामुळे बुद्धीचा नाश होतो आणि बुद्धीचा नाश झाल्यामुळे मनुष्याचा विनाश होतो."
    },
    {
        "shloka": "यदा यदा हि धर्मस्य ग्लानिर्भवति भारत।",
        "meaning": "जेव्हा जेव्हा धर्माची हानी होते आणि अधर्माची वाढ होते, तेव्हा तेव्हा मी (ईश्वर) स्वतःला निर्माण करतो (अवतार घेतो)."
    },
    {
        "shloka": "नैनं छिन्दन्ति शस्त्राणि नैनं दहति पावकः।",
        "meaning": "या आत्म्याला शस्त्रे कापू शकत नाहीत, अग्नी जाळू शकत नाही, पाणी भिजवू शकत नाही आणि वारा वाळवू शकत नाही."
    },
    {
        "shloka": "उद्धरेदात्मनात्मानं नात्मानमवसादयेत्।",
        "meaning": "मनुष्याने स्वतःच आपला उद्धार करावा, स्वतःला अधोगतीला नेऊ नये. कारण मनुष्य स्वतःच आपला मित्र आहे आणि स्वतःच आपला शत्रू आहे."
    }
]

def generate_long_response():
    # Structure: Intro -> 2-3 Core Concepts -> Optional Verse -> Conclusion
    
    intro = random.choice(INTRO_BLOCKS)
    
    # Pick 2-3 unique core concepts
    concepts = random.sample(CORE_CONCEPTS, k=random.randint(2, 3))
    
    # 30% chance to include a verse
    verse_text = ""
    if random.random() < 0.3:
        verse = random.choice(GITA_VERSES)
        verse_text = f"\n\nभगवद्गीतेमध्ये म्हटले आहे:\n'{verse['shloka']}'\nयाचा अर्थ असा की {verse['meaning']}\n"
    
    conclusion = random.choice(CONCLUSION_BLOCKS)
    
    # Combine
    full_response = f"{intro}\n\n"
    for concept in concepts:
        full_response += f"{concept}\n\n"
    
    if verse_text:
        full_response += f"{verse_text}\n"
        
    full_response += conclusion
    
    return full_response

def main():
    print(f"Generating {TARGET_COUNT} dataset entries...")
    
    with open(OUTPUT_FILE, "w", encoding="utf-8") as f:
        for i in range(TARGET_COUNT):
            # Alternate between English and Marathi instructions
            if i % 2 == 0:
                instruction = random.choice(INSTRUCTIONS_EN)
            else:
                instruction = random.choice(INSTRUCTIONS_MR)
                
            # Generate unique combination response
            response = generate_long_response()
            
            entry = {
                "instruction": instruction,
                "input": "",
                "response": response
            }
            
            f.write(json.dumps(entry, ensure_ascii=False) + "\n")
            
    print(f"Successfully created {OUTPUT_FILE}")
    print(f"File size: {os.path.getsize(OUTPUT_FILE) / 1024:.2f} KB")

if __name__ == "__main__":
    main()
